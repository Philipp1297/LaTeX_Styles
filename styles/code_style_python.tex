\lstset{
    language=Python,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    stringstyle=\color{green},
    commentstyle=\color{gray},
    morecomment=[l][\color{magenta}]{\#},
    showstringspaces=false,
    breaklines=true,
    frame=shadowbox, 
    rulesepcolor=\color{gray}, 
    columns=fullflexible,
    xleftmargin=2em % Left margin
}